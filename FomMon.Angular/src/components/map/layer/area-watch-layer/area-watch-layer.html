<app-map-layer-group
    [groupId]="groupId"
    category="feature"
    name="Watches"
    [order]="10"
    thumbnailImg="assets/layer-preview-areawatch.png"
    [initiallyVisible]="true"
    [interactivity]="{select: true, hover: true}"
>


  <mgl-geojson-source
          [id]=sourceId
  >
    @for (watch of areaWatches(); track watch.id) {
      @let feat = asFeatureFields(watch);
      <mgl-feature
          [geometry]="feat.geometry"
          [id]="feat.featureId"
          [properties]="feat.properties"
      ></mgl-feature>
    }


  <app-layer
          [source]=sourceId
          [groupId]="groupId"
          id="area-watch"
          type="fill"
          [paint]="{
          'fill-color': [
            'case',
            ['boolean', ['feature-state', 'selected'], false], '#FFB347',
            '#3bb2d0'
          ],
          'fill-opacity': [
            'case',
            ['boolean', ['feature-state', 'hide'], false], 0,
            ['boolean', ['feature-state', 'hover'], false], 0.5,
            0.3
          ]
        }"
  />

  <app-layer
      [groupId]="groupId"
      [source]=sourceId
      id="area-watch-outline"
      type="line"
      [paint]="{

        'line-color': [
          'case',
          ['boolean', ['feature-state', 'selected'], false], '#FFB347',
          '#3bb2d0'
        ],
        'line-width': [
          'case',
          ['boolean', ['feature-state', 'hide'], false], 0,
          ['boolean', ['feature-state', 'selected'], false], 3,
          ['boolean', ['feature-state', 'hover'], false], 2,
          1
        ]
      }"
          [overrideInteractivity]="{select: false, hover: false}"
  ></app-layer>

  <app-layer
      [groupId]="groupId"
      id="area-watch-label"
      [source]=sourceId
      type="symbol"
      [minzoom]="8"

      [paint]="{
        'text-color': 'rgb(51,51,68)',
        'text-halo-color': 'rgba(255,255,255,0.8)',
        'text-halo-width': 2,
        'text-halo-blur': 1,
        'text-opacity': ['case',
          ['boolean', ['feature-state', 'hide'], false], 0,
          1
        ]
      }"
      [overrideInteractivity]="{select: false, hover: false}"
      [layout]="{
        'text-field': ['get', 'name'],
        'text-font': ['noto_sans_regular'],
        'text-size': 14
      }"
  />
</mgl-geojson-source>
</app-map-layer-group>